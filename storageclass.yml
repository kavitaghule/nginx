#paste cmd for create secrets
#kubectl create secret generic aws-secret --from-literal=AWS_ACCESS_KEY_ID="" --from-literal=AWS_SECRET_ACCESS_KEY=""
#install helm=curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
#chmod 700 get_helm.sh
#./get_helm.sh
#install csidriver= kubectl create secret generic aws-secret --namespace kube-system --from-literal "key_id=${AWS_ACCESS_KEY_ID}"--from-literal "access_key=${AWS_SECRET_ACCESS_KEY}"
#helm repo add aws-ebs-csi-driver https://kubernetes-sigs.github.io/aws-ebs-csi-driver
#helm repo update
#helm upgrade --install aws-ebs-csi-driver --namespace kube-system aws-ebs-csi-driver/aws-ebs-csi-driver
#kubectl get pods -n kube-system -l app.kubernetes.io/name=aws-ebs-csi-driver
#kubectl apply -f pvc.yaml
#kubectl apply -f storageclass.yaml
#kubectl apply -f pod.yaml
#kubectl exec -it app -- df -h /data


apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: ebs-sc
provisioner: ebs.csi.aws.com
volumeBindingMode: immediate #/WaitForFirstConsumer
parameters:
  csi.storage.k8s.io/fstype: xfs
  type: gp2
  iopsPerGB: "50"
  encrypted: "true"
allowedTopologies:
- matchLabelExpressions:
  - key: topology.ebs.csi.aws.com/zone
    values:
    - us-east-2c
